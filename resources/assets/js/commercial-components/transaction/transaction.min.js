var CSRF_TOKEN=$('meta[name="csrf-token"]').attr("content");
Vue.component("transaction",{data:function(){return{id:0,type:"",customer_id:"",supplier_id:"",document_id:"",currency_id:"",rate:"",payment_condition:"",chart_account_id:"",date:"",number:"",code:"",code_expiry:"",comment:"",ref_id:"",list:[]}},methods:{onSave:function(a){var b=this;$.ajax({url:"/store_transaction/",headers:{"X-CSRF-TOKEN":CSRF_TOKEN},type:"post",data:a,dataType:"json",async:!1,success:function(a){"ok"==a?(b.id=0,b.type=null,b.customer_id=null,b.supplier_id=null,b.document_id=null,
b.currency_id=null,b.rate=null,b.payment_condition=null,b.chart_account_id=null,b.date=null,b.number=null,b.code=null,b.code_expiry=null,b.comment=null,b.ref_id=null,b.details=[],b.init()):alert("Something Went Wrong...")},error:function(b,a,d){console.log(d)}})},onEdit:function(a){this.id=a.id;this.type=a.type;this.customer_id=a.customer_id;this.supplier_id=a.supplier_id;this.document_id=a.document_id;this.currency_id=a.currency_id;this.rate=a.rate;this.payment_condition=a.payment_condition;this.chart_account_id=
a.chart_account_id;this.date=a.date;this.number=a.number;this.code=a.code;this.code_expiry=a.code_expiry;this.comment=a.comment;this.ref_id=a.ref_id},init:function(){var a=this;$.ajax({url:"/get_transactions/",type:"get",dataType:"json",async:!0,success:function(b){a.id=b.id;a.type=b.type;a.customer_id=b.customer_id;a.supplier_id=b.supplier_id;a.document_id=b.document_id;a.currency_id=b.currency_id;a.rate=b.rate;a.payment_condition=b.payment_condition;a.chart_account_id=b.chart_account_id;a.date=
b.date;a.number=b.number;a.code=b.code;a.code_expiry=b.code_expiry;a.comment=b.comment;a.ref_id=b.ref_id;a.list=[];for(var c=0;c<b.length;c++)a.list.push({transaction_id:b[c].name,chart_id:b[c].id,chart_vat_id:b[c].chart_vat_id,value:b[c].value})},error:function(b,a,e){console.log(a)}})}},mounted:function(){this.init()}});
