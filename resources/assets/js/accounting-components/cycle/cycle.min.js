var CSRF_TOKEN=$('meta[name="csrf-token"]').attr("content");
Vue.component("cycle",{data:function(){return{id:0,chart_version_id:"",year:"",start_date:"",end_date:"",list:[],chartversions:[]}},methods:{onSave:function(c){var a=this;$.ajax({url:"/store_cycle/",headers:{"X-CSRF-TOKEN":CSRF_TOKEN},type:"post",data:c,dataType:"json",async:!1,success:function(b){"ok"==b?(a.id=0,a.chart_version_id=null,a.year=null,a.start_date=null,a.end_date=null,a.init()):alert("Something Went Wrong...")},error:function(b,a,c){console.log(b.responseText)}})},onEdit:function(c){this.id=
c.id;this.chart_version_id=c.chart_version_id;this.chart_version_name=c.chart_version_name;this.year=c.year;this.start_date=c.start_date;this.end_date=c.end_date},init:function(){var c=this;$.ajax({url:"/get_cycle/",type:"get",dataType:"json",async:!0,success:function(a){c.list=[];for(var b=0;b<a.length;b++){var d=moment(a[b].start_date).format("YYYY-MM-DD"),e=moment(a[b].end_date).format("YYYY-MM-DD");c.list.push({chart_version_id:a[b].chart_version_id,id:a[b].id,chart_version_name:a[b].chart_version_name,
year:a[b].year,start_date:d,end_date:e})}},error:function(a,b,c){console.log(b)}})}},mounted:function(){var c=this;c.init();$.ajax({url:"/get_chartversion/",type:"get",dataType:"json",async:!0,success:function(a){c.chartversions=[];for(var b=0;b<a.length;b++)c.chartversions.push({name:a[b].name,id:a[b].id})},error:function(a,b,c){console.log(b)}})}});
